# 2022.11.3 游戏中的数学-坐标和向量
## 左手坐标系和右手坐标系

1.左手坐标系: 伸开我们的左手, 掌心向外, 大拇指与食指成90度, 中指、无名指和小指弯曲, 大拇指指向的方向就是X轴正方向, 食指指向的方向就是Y轴正方向, 中指、无名指和小指指向的方向就是Z轴正方向；

2.右手坐标系: 伸开我们的右手, 掌心向内, 大拇指与食指成90度, 中指、无名指和小指弯曲, 大拇指指向的方向就是X轴正方向, 食指指向的方向就是Y轴正方向, 中指、无名指和小指指向的方向就是Z轴正方向；

3.左手坐标系和右手坐标系中, X轴和Y轴的方向是相同的, Z轴的方向相反。
## 世界坐标系、局部坐标系

世界坐标系: 每个scene都有唯一的一个世界坐标系。世界坐标系也是一个左手坐标系。一般常见的用法, 是使得X正方向为正右方, Y正方向为正上方, Z正方向为正前方。

局部坐标系: 在unity中, 有一个肉眼可见的本地坐标系, 当我们选中一个物体时, 就会显示出其本地坐标系。本地坐标系也是一个左手坐标系。
## Vector3在不同上下文下的含义
```
Vector3.Angle() //向量之间的夹角，返回两个向量之间较小的角度
Vector3.Cross() //叉积，返回垂直于a,b,两个向量所在平面的另一个向量
Vector3.Dot()//点积，是一个标量，只有大小，没有方向
Vector3.Distance()//求两点之间的距离，范围判断中使用
Vector3.Lerp() //插值运算，一般用于平滑处理，比如摄像机的缓慢移动、导弹的追踪等
Vector3.MoveTowards()//沿着目标移动，
Vector3.Normalize()//向量单位化，方向一致，大小为单位1
Vector3.Project()//向量投影，求一个向量在另一个向量方向上的投影
Vector3.Slerp()//球形插值
```
## 屏幕坐标，以及屏幕坐标与视图坐标、世界坐标的转换

屏幕坐标：对屏幕像素（分辨率）的位置的描述，其中左下角为（0，0），右上角为（Screen.width,Screen.height），比如游戏分辨率为1280*720，则Screen.width=1280,Screen.height=720。

世界坐标：将游戏内的游戏空间理解为"世界"，世界坐标系对等于游戏空间坐标系，游戏中的transform.position或者transform.rotation的信息都是基于世界坐标系

视图坐标：对游戏显示视图的一个归一化的描述，其中左下角为（0，0），右上角为（0，1），在需要对显示视图进行分屏处理时，可以通过设置Camera上的ViewPort Rect属性来进行屏幕分屏渲染
### 坐标的转换
```
Camera.main.ScreenToWorldPoint();//屏幕转世界坐标
Camera.main.WorldToScreenPoint();//世界转屏幕坐标
Camera.main.WorldToViewportPoint();//世界转视口坐标
Camera.main.ViewportToWorldPoint();//视口转世界坐标
Camera.main.ViewportToScreenPoint();//视口转屏幕坐标
Camera.main.ScreenToViewportPoint();//屏幕转视口坐标
```
## 什么是向量

### 向量的数学定义

向量是一个数字列表，或说是一个数组，向量的维度就是向量包含的“数”的数目，向量可以有任意正数维，标量可以被认为是一维向量。
### 向量的几何意义

几何意义上说，向量是有大小和方向的有向线段。向量的大小就是向量的长度“模”向量的长度为非负。

向量的方向描述了空间中向量的指向。

向量的形式：向量定义的两大要素——大小和方向，有时候需要引用向量的头和尾，下图所示，箭头是向量的末端。
## 向量的两种几何表示方法

### 属性
```
[x]//向量的X组件。
[y]//向量的Y组件。
[z]//向量的Z组件。
[this [int index]]//使用[0], [1], [2]分别访问组件x, y, z组件。简单来说就是用索引号代替x, y, z组件。
[normalized]//返回向量的长度为1（只读）。
[magnitude]// 返回向量的长度（只读）。
[sqrMagnitude]//返回这个向量的长度的平方（只读）。
</
```
### 方法
```
[Lerp]两个向量之间的线性插值。
[Slerp]球形插值在两个向量之间。
[OrthoNormalize]使向量规范化并且彼此相互垂直。
[MoveTowards]当前的地点移向目标。
[RotateTowards]当前的向量转向目标。
[SmoothDamp]随着时间的推移，逐渐改变一个向量朝向预期的目标。
[Scale]两个矢量组件对应相乘。
[Cross]两个向量的交叉乘积。返回lhs x rhs
[Reflect]沿着法线反射向量。
[Dot]两个向量的点乘积。
[Project]投影一个向量到另一个向量。
[Angle]由from和to两者返回一个角度。
[Distance]返回a和b之间的距离。
[ClampMagnitude]返回向量的长度，最大不超过maxLength所指示的长度。
[Min]返回一个由两个向量的最小组件组成的向量。
[Max]返回一个由两个向量的最大组件组成的向量。
```
## 向量的加分、减法、数乘、标准化以及他们的几何意义

### 向量相加
```
Vector3 a = new Vector3(0, 1, 1);
Vector3 b = new Vector3(1, 2, 3);
Vector3 c = a + b = (0+1,1+2,1+4)=1,3,4;
```
几何意义:向量a与向量b相加，平移使b的始点与a的终点重合，结果为以a的始点为始点，以b的终点为终点的向量
### 向量相减
```
Vector3 a = new Vector3(0, 1, 1);
Vector3 b = new Vector3(1, 2, 3);
Vector3 c = a + b = (0-1,1-2,14)=-1,-1,-2;
```
几何意义:向量a与向量b相减，结果理解为以b的终点为始点，以a的终点为终点的向量。方向由b指向a
### 向量数乘

几何意义: 数乘就是与标量相乘，该运算可对向量进行缩放

### 向量的标准化

```
Vector3 A = new Vector3(1, 2, 3);
Vector3 B = new Vector3(2, 4, 5);
Vector3 v = (B - A).normalized;//AB向量归一化后的坐标：(1/3,2/3,2/3)
```
几何意义: 将向量的模变为1，即变为单位向量。
## 向量的点积、叉积以及它们的应用

### 向量的点积
```
Vector3 A = new Vector3(1, 1);
Vector3 B = new Vector3(1, 0);
float dot = Vector3.Dot(A, B);//A向量与B向量的点乘为：1
float angle = Vector3.Angle(A, B);//A向量与B向量的夹角为：45
```
点乘的结果大于0，则两个向量的夹角0<=θ< 90

点乘的结果等于0，则两个向量的夹角θ=90，互相垂直

点乘的结果小于0，则两个向量的夹角90<θ<=180
### 向量的叉积

```
Vector3 A = new Vector3(1, 2, 3);
Vector3 B = new Vector3(-2, -2, 3);
Vector3 cross = Vector3.Cross(A, B);//A向量与B向量的叉乘为：(12,-9,2)
```
叉乘的结果大于0，则向量旋转到向量B是顺时针

叉乘的结果等于0，则向量A与向量B是共线的

叉乘的结果小于0，则向量A旋转到向量B是逆时针
## Vector3结构体提供的属性和方法

Vector 表示向量、矢量的意思，含有大小和方向；Vector3 由名可得表示三维向量，包含想 x, y, z 三个分量
```
Vector3.MoveTowards()  //移动到目标位置
Vector3.Project()  //在线上的投影
Vector3.ProjectOnPlane //在面上的投影
Vector3.PSqrMagnitude  //向量的长度平方
```
## 向量和位置的关系

向量与位置之间是等号连接

一个点的位置，是在点的字母后直接加坐标

关系向量AB是用B的横纵坐标减去A点的横纵坐标