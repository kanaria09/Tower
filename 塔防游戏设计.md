
# 项目介绍

# 游戏设计
## 游戏控制方式

在游戏地图中存在起始点与终点，敌人会从起始点产生出发前往终点，玩家需要通过在地图上建造与升级炮塔，来阻止游戏中敌人到达终点。

## 游戏角色设计

游戏内共有3种炮塔，每种炮塔均可升级与拆除，炮塔只能升级一次，炮塔升级后将会改变外观与伤害，属性如下

|   | 伤害值  | 升级后伤害值  | 建造费用  | 拆除费用  |
| ------------ | ------------ | ------------ |------------ |------------ |
| 普通炮塔standard  | 50  | 70  | 50  | 50  |
| 导弹炮塔Missile  | 70  |  90 | 70  | 50  |
| 激光炮塔Laser  |  100 | 120  |  90 | 50  |

升级前
[![z7R5vV.png](https://s1.ax1x.com/2022/12/16/z7R5vV.png)](https://imgse.com/i/z7R5vV)
升级后
[![z7WpDO.png](https://s1.ax1x.com/2022/12/16/z7WpDO.png)](https://imgse.com/i/z7WpDO)
共有4种敌人，每种敌人上方都有血量条实时显示当前血量，属性如下

|   | Enemy1  |  Enemy2 |  Enemy3 |  Enemy4 |
| ------------ | ------------ | ------------ | ------------ | ------------ |
| HP |  200 | 300  | 400  | 500  |
| 移动速度  |  12 |  12 |  10 | 10  |

[![z7fMy6.png](https://s1.ax1x.com/2022/12/16/z7fMy6.png)](https://imgse.com/i/z7fMy6)

## 游戏关卡设计

游戏一开始会给予玩家1000的金钱，通过在敌人前进道路上放置炮塔攻击消灭敌人，放置炮塔的同时金钱会随之减少，只有拥有足够的金钱才能购买并放置炮塔，将炮塔拆除后会得到相应的拆除费用，将全部敌人消灭之后通关游戏
[![z753wT.png](https://s1.ax1x.com/2022/12/16/z753wT.png)](https://imgse.com/i/z753wT)

[![z751mV.png](https://s1.ax1x.com/2022/12/16/z751mV.png)](https://imgse.com/i/z751mV)
游戏将会产生4波敌人，第一波2个敌人，第二波5个敌人，第三波8个敌人，第四波10个敌人。敌人数量依次增加，强度依次增强，只有将本波敌人全部消灭之后下一波敌人才会产生，当敌人到达终点时游戏失败，可以选择退出游戏与重新开始。
[![z75Pyt.png](https://s1.ax1x.com/2022/12/16/z75Pyt.png)](https://imgse.com/i/z75Pyt)
# 游戏实现
## 游戏场景

## 游戏主要功能点
创建炮台
    public void BuildTurret(TurretData turretData)
    {
        this.turretData = turretData;
        isUpgraded = false;

        //在鼠标点击的cube上创建炮塔
        turretGo = GameObject.Instantiate(turretData.turretPrefab, transform.position, Quaternion.identity);

        //创建炮塔时触发粒子效果
        GameObject effect = GameObject.Instantiate(buildEffect, transform.position, Quaternion.identity);

        Destroy(effect, 1.5f);
    }
升级炮台
    public void UpgradeTurret()
    {
        if (isUpgraded == true) return;   //升级标记
        Destroy(turretGo);   //销毁之前的炮塔
        isUpgraded = true;
        turretGo = GameObject.Instantiate(turretData.turretUpgradedPrefab, transform.position, Quaternion.identity);
        GameObject effect = GameObject.Instantiate(buildEffect, transform.position, Quaternion.identity);
        Destroy(effect, 1.5f);
    }
销毁炮台
    public void DestroyTurret()
    {
        Destroy(turretGo);
        isUpgraded = false;
        turretGo = null;   //cube上为空
        turretData = null;
        GameObject effect = GameObject.Instantiate(buildEffect, transform.position, Quaternion.identity);
        Destroy(effect, 1.5f);
    }

# 游戏涉及的知识点（需要包括所有学习的知识点）

## 物理系统

## 数学基础

## UI系统

UI布局如下
[![zHS7Nj.png](https://s1.ax1x.com/2022/12/16/zHS7Nj.png)](https://imgse.com/i/zHS7Nj)
**选择炮塔**
在gameCanvas下创建三个"Toggle"开关代表三种炮塔，BuildManager脚本进行监听是否被选择，再创建一个空物体TurretSwich_empty，并创建一ToggleGroup组件来包含这个三开关，
```csharp
    //监听Laser炮塔是否被选择
    public void OnLaserSelected(bool isOn)
    {
        if (isOn)   //isOn 表示被选择
        {
            selectedTurretData = laserTurretData;
        }
    }

    //监听Missile炮塔是否被选择
    public void OnMissileSelected(bool isOn)
    {
        if (isOn)
        {
            selectedTurretData = missileTurretData;
        }
    }

    //监听Standar炮塔是否被选择
    public void OnStandardSelected(bool isOn)
    {
        if (isOn)
        {
            selectedTurretData = standardTurretData;
        }
    }
```
**控制按钮——暂停/退出**
在gameCanvas下创建一个空物体命名为Sitting和End，各创建一个Text文本，将CanvasSitting脚本挂载到画布上,对应的游戏对象拖拽到代码公开变量上
```csharp
    //暂停和继续游戏
    public void ControlTime()
    {
        //如果点击了
        if (BtnState)
        {
            BtnState = false;
            BtnTitle.text = "暂停";
            //将时间设置为0,画面会停止运动,慢动作可以设置为0.5f
            Time.timeScale = 1f;
        }
        else
        {
            BtnState = true;
            BtnTitle.text = "继续";
            //将时间设置为0,画面会停止运动,慢动作可以设置为0.5f
            Time.timeScale = 0f;
        }
    }

    //开始/退出游戏
    public void OnExitGame()
    {
        if (BtnState1)
        {
#if UNITY_EDITOR
                UnityEditor.EditorApplication.isPlaying = false;
#else
            Application.Quit();
#endif
        }
        else
        {
            BtnState1 = true;
            BtnTitle1.text = "退出";
            //将时间设置为0,画面会停止运动,慢动作可以设置为0.5f
            Time.timeScale = 1f;
        }
    }
```
## 动画系统

## 资源管理

## 数据保存和加载

# 组员分工
| 姓名 | 学号 | 分工内容 |
| ------------ | ------------ | ------------ |
| 黄子弋 | 20033077 |  |
| 黄琛学 | 20031104 |  |
| 黎怡至 | 20032027 |  |
| 陈庭轩 | 20031095 |  |
